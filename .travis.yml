language: cpp

cache:
  apt: true

matrix:
  include:
    - env: CC=gcc-7 CXX=g++-7 STD=17
      os: linux
      dist: trusty
      sudo: require
      addons:
        apt:
          sources: *sources
          packages:
            - gcc-7
            - g++-7

    - env: CC=clang-5.0 CXX=clang++-5.0 STD=17
      os: linux
      addons:
        apt:
          sources:
            - llvm-toolchain-trusty-5.0
          packages:
            - clang-5.0

    - env: STD=17
      os: osx
      osx_image: xcode9.3

      
    - env: STD=17
      os: windows

script:
    - mkdir build && cd build
    - cmake -DCPP_STANDARD=17 ..
    - cmake --build . --config debug
    - ctest -V -C debug